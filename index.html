<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src https://fonts.gstatic.com; connect-src 'self';">
  <title>Folder Organizer</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>
<body>
  <div class="container">
    <div class="header-nav">
      <h1>Folder Organizer</h1>
      <div class="header-buttons">
        <a href="schedule.html" class="btn btn-primary" id="schedule-btn">
          <span class="material-symbols-rounded">schedule</span>
          Schedule Tasks
        </a>
      </div>
    </div>
    
    <p class="description">
      Organize your folders by automatically sorting files into categories based on file types.<br>
      <span style="color:var(--primary-color);font-size:0.95em;">Now smarter: Only relevant folders are created, and file types are uniquely categorized.</span>
    </p>
    
    <div class="folder-selector">
      <div class="folder-path" id="selected-path" aria-live="polite">No folder selected</div>
      <button class="btn btn-primary" id="select-folder-btn" aria-label="Browse for folder">
        <span class="material-symbols-rounded">folder_open</span>
        Browse...
      </button>
    </div>
    
    <div class="preserve-section" id="preserve-section" style="display: none;">
      <div class="checkbox-container" id="preserve-folders-container">
        <div class="section-title">
          <span class="material-symbols-rounded" style="vertical-align: middle; margin-right: 5px;">turned_in_not</span>
          Select folders to preserve (won't be reorganized):
        </div>
        <div id="folders-checklist" class="folders-checklist"></div>
      </div>
    </div>
    
    <div class="button-group">
      <button class="btn btn-primary" id="preview-btn" disabled aria-label="Preview file organization">
        <span class="material-symbols-rounded">visibility</span>
        Preview Changes
      </button>
      <button class="btn btn-success" id="organize-btn" disabled aria-label="Organize files in selected folder">
        <span class="material-symbols-rounded">auto_fix</span>
        Organize Files
      </button>
    </div>
    
    <!-- Undo button (initially hidden) -->
    <div class="undo-container" id="undo-container" style="display: none;">
      <button class="btn undo-btn" id="undo-btn" aria-label="Undo last organization action">
        <span class="material-symbols-rounded">undo</span>
        Undo Last Organization
      </button>
      <div class="undo-info" id="undo-info"></div>
    </div>
    
    <div class="status" id="status" role="status"></div>
    
    <div class="stats-container" id="stats-container">
      <div class="stats-title">
        <span class="material-symbols-rounded" style="vertical-align: middle; margin-right: 5px;">analytics</span>
        Organization Summary:
      </div>
      <div class="stats-grid" id="stats-grid"></div>
    </div>
    
    <div class="preview-container" id="preview-container" style="display: none;">
      <div class="stats-title">
        <span class="material-symbols-rounded" style="vertical-align: middle; margin-right: 5px;">preview</span>
        Preview of Changes:
      </div>
    <div class="preview-content" id="preview-content"></div>
    </div>
  </div>
  
  <footer>
    <p>Folder Organizer v2.0.0 &mdash; Smart Organization | Created May 2025</p>
  </footer>
  
  <script src="./renderer.js"></script>
</body>
</html>